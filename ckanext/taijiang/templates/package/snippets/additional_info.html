{% if pkg_dict.get('extras', [])|length %}
  {% set extras_dict = h.extras_to_dict(pkg_dict) %}
{% else %}
  {% set extras_dict = pkg_dict %}
{% endif %}
<section class="additional-info">
  <h3>{{ _('Additional Info') }}</h3>
  <table class="table table-striped table-bordered table-condensed">
    <thead>
      <tr>
        <th scope="col">{{ _('Field') }}</th>
        <th scope="col">{{ _('Value') }}</th>
      </tr>
    </thead>
    <tbody>
      {% if extras_dict.get('identifier') %}
        <tr>
          <th scope="row" class="dataset-label" property="rdfs:label">{{ _("Identifier") }}</th>
          <td class="dataset-details" property="rdf:value">{{ extras_dict.get('identifier') }}</td>
        </tr>
      {% endif %}
        
      {% if extras_dict.get('data_type') %}
        <tr>
          <th scope="row" class="dataset-label" property="rdfs:label">{{ _("Data Type") }}</th>
          {% for value, label in h.get_data_types() %}
            {% if extras_dict.get('data_type') == value %}
              <td class="dataset-details" property="rdf:value">{{ label }}</td>
      	    {% endif %}
          {% endfor %}
     	</tr>
      {% endif %}

      {% if extras_dict.get('proj') %}
        <tr>
          <th scope="row" class="dataset-label" property="rdfs:label">{{ _("Project") }}</th>
          {% for value, label in h.get_proj() %}
            {% if extras_dict.get('proj') == value %}
              <td class="dataset-details" property="rdf:value">{{ label }}</td>
            {% endif %}
          {% endfor %}
        </tr>
      {% endif %}

      {% if extras_dict.get('language') %}
        <tr>
          <th scope="row" class="dataset-label" property="rdfs:label">{{ _("Language") }}</th>
          {% for value, label in h.get_languages() %}
            {% if extras_dict.get('language') == value %}
              <td class="dataset-details" property="rdf:value">{{ label }}</td>
            {% endif %}
          {% endfor %}
        </tr>
      {% endif %}

      {% if extras_dict.get('encoding') %}
        <tr>
          <th scope="row" class="dataset-label" property="rdfs:label">{{ _("Encoding")}}</th>
          {% for value, label in h.get_encodings() %}
            {% if extras_dict.get('encoding') == value %}
              <td class="dataset-details" property="rdf:value">{{ label }}</td>
            {% endif %}
          {% endfor %}
        </tr>
      {% endif %}

      {% if extras_dict.get('ref') %}
        <tr "dc:relation">
          <th scope="row" class="dataset-label" property="rdfs:label">{{ _("Reference") }}</th>
          <td class="dataset-details" property="rdf:value">{{ extras_dict.get('ref') }}</td>
        </tr>
      {% endif %}

      {% if pkg_dict.version %}
        <tr>
          <th scope="row" class="dataset-label">{{ _("Version") }}</th>
          <td class="dataset-details">{{ pkg_dict.version }}</td>
        </tr>
      {% endif %}

      {% if h.check_access('package_update',{'id':pkg_dict.id}) %}
        <tr>
          <th scope="row" class="dataset-label">{{ _("State") }}</th>
          <td class="dataset-details">{{ pkg_dict.state }}</td>
        </tr>
      {% endif %}
    </tbody>
  </table>

  {% if extras_dict.get('temp_res') %}
    {% snippet 'package/snippets/package_temporal_fields.html', data=extras_dict %}
  {% endif %}

  {% snippet 'package/snippets/package_contact_fields.html', data=extras_dict %}

  {% if extras_dict.get('theme_keyword_1') or extras_dict.get('theme_keyword_2') or extras_dict.get('theme_keyword_3') or extras_dict.get('theme_keyword_4') or extras_dict.get('theme_keyword_5') %}
    {% snippet 'package/snippets/package_theme_fields.html', data=extras_dict %}
  {% endif %}

  {% if extras_dict.get('loc_keyword') or extras_dict.get('x_min') or extras_dict.get('x_max') or extras_dict.get('y_min') or extras_dict.get('y_max') or extras_dict.get('spatial') %}
    {% snippet 'package/snippets/package_spatial_fields.html', data=extras_dict %}
  {% endif %}

  {% if extras_dict.get('scan_source') or extras_dict.get('scan_size') or extras_dict.get('scan_res') %}
    {% snippet 'package/snippets/package_scanned_image_fields.html', data=extras_dict %}
  {% endif %}

  {% if extras_dict.get('crs') or extras_dict.get('spatial_res') or extras_dict.get('scale') or extras_dict.get('preprocessing') %}
    {% snippet 'package/snippets/package_spatial_type_fields.html', data=extras_dict %}
  {% endif %}

  {% if extras_dict.get('book_isbn') or extras_dict.get('book_issn') or extras_dict.get('book_journal') or extras_dict.get('book_volume') or extras_dict.get('book_proceeding') or extras_dict.get('book_location') or extras_dict.get('book_publisher') or extras_dict.get('book_year') or extras_dict.get('book_query') or extras_dict.get('book_url') or extras_dict.get('book_from_local_chronicles_in_qing_dynasty') or extras_dict.get('book_from_japan_officials') or extras_dict.get('book_from_officials_in_postwar_period') or extras_dict.get('book_from_inscriptions') or extras_dict.get('book_from_newspapers') or extras_dict.get('book_from_maps') or extras_dict.get('book_from_taiwanese_governor_office_files') or extras_dict.get('book_from_dutch_formosa') or extras_dict.get('book_from_field_researches') or extras_dict.get('book_area_village') or extras_dict.get('book_area_religion') or extras_dict.get('book_area_family') or extras_dict.get('book_area_reservoir') or extras_dict.get('book_area_industry') or extras_dict.get('book_notes') %}
    {% snippet 'package/snippets/package_book_fields.html', data=extras_dict %}
  {% endif %}
</section>
